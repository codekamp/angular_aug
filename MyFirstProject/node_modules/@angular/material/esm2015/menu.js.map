{"version":3,"file":"menu.js","sources":["../../../src/lib/menu/index.ts","../../../src/lib/menu/menu-module.ts","../../../src/lib/menu/menu-trigger.ts","../../../src/lib/menu/menu-directive.ts","../../../src/lib/menu/menu-animations.ts","../../../src/lib/menu/menu-item.ts","../../../src/lib/menu/menu-errors.ts"],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport {MD_MENU_SCROLL_STRATEGY,fadeInItems,transformMenu,MdMenuModule,MdMenu,MdMenuDefaultOptions,MD_MENU_DEFAULT_OPTIONS,MdMenuItem,MdMenuTrigger,MdMenuPanel,MenuPositionX,MenuPositionY,MAT_MENU_DEFAULT_OPTIONS,MatMenu,MatMenuDefaultOptions,MatMenuItem,MatMenuModule,MatMenuPanel,MatMenuTrigger} from './public_api';\n\nexport {MdMenuItemBase as ɵa,_MdMenuItemMixinBase as ɵb} from './menu-item';\nexport {MD_MENU_SCROLL_STRATEGY_PROVIDER as ɵd,MD_MENU_SCROLL_STRATEGY_PROVIDER_FACTORY as ɵc} from './menu-trigger';","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {MdCommonModule} from '@angular/material/core';\nimport {OverlayModule} from '@angular/cdk/overlay';\nimport {MdMenu, MD_MENU_DEFAULT_OPTIONS} from './menu-directive';\nimport {MdMenuItem} from './menu-item';\nimport {MdMenuTrigger, MD_MENU_SCROLL_STRATEGY_PROVIDER} from './menu-trigger';\nimport {MdRippleModule} from '@angular/material/core';\nexport class MdMenuModule {static decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n  imports: [\n    OverlayModule,\n    CommonModule,\n    MdRippleModule,\n    MdCommonModule,\n  ],\n  exports: [MdMenu, MdMenuItem, MdMenuTrigger, MdCommonModule],\n  declarations: [MdMenu, MdMenuItem, MdMenuTrigger],\n  providers: [\n    MD_MENU_SCROLL_STRATEGY_PROVIDER,\n    {\n      provide: MD_MENU_DEFAULT_OPTIONS,\n      useValue: {\n        overlapTrigger: true,\n        xPosition: 'after',\n        yPosition: 'below',\n      },\n    }\n  ],\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction MdMenuModule_tsickle_Closure_declarations() {\n/** @type {?} */\nMdMenuModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nMdMenuModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {isFakeMousedownFromScreenReader} from '@angular/cdk/a11y';\nimport {Direction, Directionality} from '@angular/cdk/bidi';\nimport {LEFT_ARROW, RIGHT_ARROW} from '@angular/cdk/keycodes';\nimport {\n  ConnectedPositionStrategy,\n  HorizontalConnectionPos,\n  Overlay,\n  OverlayRef,\n  OverlayConfig,\n  RepositionScrollStrategy,\n  ScrollStrategy,\n  VerticalConnectionPos,\n} from '@angular/cdk/overlay';\nimport {TemplatePortal} from '@angular/cdk/portal';\nimport {filter, RxChain} from '@angular/cdk/rxjs';\nimport {\n  AfterViewInit,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  Inject,\n  InjectionToken,\n  Input,\n  OnDestroy,\n  Optional,\n  Output,\n  Self,\n  ViewContainerRef,\n} from '@angular/core';\nimport {merge} from 'rxjs/observable/merge';\nimport {of as observableOf} from 'rxjs/observable/of';\nimport {Subscription} from 'rxjs/Subscription';\nimport {MdMenu} from './menu-directive';\nimport {throwMdMenuMissingError} from './menu-errors';\nimport {MdMenuItem} from './menu-item';\nimport {MdMenuPanel} from './menu-panel';\nimport {MenuPositionX, MenuPositionY} from './menu-positions';\n/**\n * Injection token that determines the scroll handling while the menu is open.\n */\nexport const MD_MENU_SCROLL_STRATEGY =\n    new InjectionToken<() => ScrollStrategy>('md-menu-scroll-strategy');\n/**\n * \\@docs-private\n * @param {?} overlay\n * @return {?}\n */\nexport function MD_MENU_SCROLL_STRATEGY_PROVIDER_FACTORY(overlay: Overlay):\n    () => RepositionScrollStrategy {\n  return () => overlay.scrollStrategies.reposition();\n}\n/**\n * \\@docs-private\n */\nexport const MD_MENU_SCROLL_STRATEGY_PROVIDER = {\n  provide: MD_MENU_SCROLL_STRATEGY,\n  deps: [Overlay],\n  useFactory: MD_MENU_SCROLL_STRATEGY_PROVIDER_FACTORY,\n};\n/**\n * Default top padding of the menu panel.\n */\nexport const MENU_PANEL_TOP_PADDING = 8;\n/**\n * This directive is intended to be used in conjunction with an md-menu tag.  It is\n * responsible for toggling the display of the provided menu instance.\n */\nexport class MdMenuTrigger implements AfterViewInit, OnDestroy {\nprivate _portal: TemplatePortal<any>;\nprivate _overlayRef: OverlayRef | null = null;\nprivate _menuOpen: boolean = false;\nprivate _closeSubscription = Subscription.EMPTY;\nprivate _positionSubscription = Subscription.EMPTY;\nprivate _hoverSubscription = Subscription.EMPTY;\nprivate _openedByMouse: boolean = false;\n/**\n * @deprecated\n * @return {?}\n */\nget _deprecatedMdMenuTriggerFor(): MdMenuPanel {\n    return this.menu;\n  }\n/**\n * @param {?} v\n * @return {?}\n */\nset _deprecatedMdMenuTriggerFor(v: MdMenuPanel) {\n    this.menu = v;\n  }\n/**\n * @deprecated\n * @return {?}\n */\nget _deprecatedMatMenuTriggerFor(): MdMenuPanel {\n    return this.menu;\n  }\n/**\n * @param {?} v\n * @return {?}\n */\nset _deprecatedMatMenuTriggerFor(v: MdMenuPanel) {\n    this.menu = v;\n  }\n/**\n * @return {?}\n */\nget _matMenuTriggerFor(): MdMenuPanel {\n    return this.menu;\n  }\n/**\n * @param {?} v\n * @return {?}\n */\nset _matMenuTriggerFor(v: MdMenuPanel) {\n    this.menu = v;\n  }\n/**\n * References the menu instance that the trigger is associated with.\n */\nmenu: MdMenuPanel;\n/**\n * Event emitted when the associated menu is opened.\n */\nonMenuOpen = new EventEmitter<void>();\n/**\n * Event emitted when the associated menu is closed.\n */\nonMenuClose = new EventEmitter<void>();\n/**\n * @param {?} _overlay\n * @param {?} _element\n * @param {?} _viewContainerRef\n * @param {?} _scrollStrategy\n * @param {?} _parentMenu\n * @param {?} _menuItemInstance\n * @param {?} _dir\n */\nconstructor(private _overlay: Overlay,\nprivate _element: ElementRef,\nprivate _viewContainerRef: ViewContainerRef,\nprivate _scrollStrategy,\nprivate _parentMenu: MdMenu,\nprivate _menuItemInstance: MdMenuItem,\nprivate _dir: Directionality) {\n\n    if (_menuItemInstance) {\n      _menuItemInstance._triggersSubmenu = this.triggersSubmenu();\n    }\n  }\n/**\n * @return {?}\n */\nngAfterViewInit() {\n    this._checkMenu();\n\n    this.menu.close.subscribe(reason => {\n      this.closeMenu();\n\n      // If a click closed the menu, we should close the entire chain of nested menus.\n      if (reason === 'click' && this._parentMenu) {\n        this._parentMenu.close.emit(reason);\n      }\n    });\n\n    if (this.triggersSubmenu()) {\n      // Subscribe to changes in the hovered item in order to toggle the panel.\n      this._hoverSubscription = filter\n          .call(this._parentMenu.hover(), active => active === this._menuItemInstance)\n          .subscribe(() => {\n            this._openedByMouse = true;\n            this.openMenu();\n          });\n    }\n  }\n/**\n * @return {?}\n */\nngOnDestroy() {\n    if (this._overlayRef) {\n      this._overlayRef.dispose();\n      this._overlayRef = null;\n    }\n\n    this._cleanUpSubscriptions();\n  }\n/**\n * Whether the menu is open.\n * @return {?}\n */\nget menuOpen(): boolean {\n    return this._menuOpen;\n  }\n/**\n * The text direction of the containing app.\n * @return {?}\n */\nget dir(): Direction {\n    return this._dir && this._dir.value === 'rtl' ? 'rtl' : 'ltr';\n  }\n/**\n * Whether the menu triggers a sub-menu or a top-level one.\n * @return {?}\n */\ntriggersSubmenu(): boolean {\n    return !!(this._menuItemInstance && this._parentMenu);\n  }\n/**\n * Toggles the menu between the open and closed states.\n * @return {?}\n */\ntoggleMenu(): void {\n    return this._menuOpen ? this.closeMenu() : this.openMenu();\n  }\n/**\n * Opens the menu.\n * @return {?}\n */\nopenMenu(): void {\n    if (!this._menuOpen) {\n      this._createOverlay().attach(this._portal);\n      this._closeSubscription = this._menuClosingActions().subscribe(() => this.menu.close.emit());\n      this._initMenu();\n\n      if (this.menu instanceof MdMenu) {\n        this.menu._startAnimation();\n      }\n    }\n  }\n/**\n * Closes the menu.\n * @return {?}\n */\ncloseMenu(): void {\n    if (this._overlayRef && this.menuOpen) {\n      this._resetMenu();\n      this._overlayRef.detach();\n      this._closeSubscription.unsubscribe();\n      this.menu.close.emit();\n\n      if (this.menu instanceof MdMenu) {\n        this.menu._resetAnimation();\n      }\n    }\n  }\n/**\n * Focuses the menu trigger.\n * @return {?}\n */\nfocus() {\n    this._element.nativeElement.focus();\n  }\n/**\n * This method sets the menu state to open and focuses the first item if\n * the menu was opened via the keyboard.\n * @return {?}\n */\nprivate _initMenu(): void {\n    this.menu.parentMenu = this.triggersSubmenu() ? this._parentMenu : undefined;\n    this.menu.direction = this.dir;\n    this._setMenuElevation();\n    this._setIsMenuOpen(true);\n\n    // Should only set focus if opened via the keyboard, so keyboard users can\n    // can easily navigate menu items. According to spec, mouse users should not\n    // see the focus style.\n    if (!this._openedByMouse) {\n      this.menu.focusFirstItem();\n    }\n  }\n/**\n * Updates the menu elevation based on the amount of parent menus that it has.\n * @return {?}\n */\nprivate _setMenuElevation(): void {\n    if (this.menu.setElevation) {\n      let /** @type {?} */ depth = 0;\n      let /** @type {?} */ parentMenu = this.menu.parentMenu;\n\n      while (parentMenu) {\n        depth++;\n        parentMenu = parentMenu.parentMenu;\n      }\n\n      this.menu.setElevation(depth);\n    }\n  }\n/**\n * This method resets the menu when it's closed, most importantly restoring\n * focus to the menu trigger if the menu was opened via the keyboard.\n * @return {?}\n */\nprivate _resetMenu(): void {\n    this._setIsMenuOpen(false);\n\n    // Focus only needs to be reset to the host element if the menu was opened\n    // by the keyboard and manually shifted to the first menu item.\n    if (!this._openedByMouse) {\n      this.focus();\n    }\n\n    this._openedByMouse = false;\n  }\n/**\n * @param {?} isOpen\n * @return {?}\n */\nprivate _setIsMenuOpen(isOpen: boolean): void {\n    this._menuOpen = isOpen;\n    this._menuOpen ? this.onMenuOpen.emit() : this.onMenuClose.emit();\n\n    if (this.triggersSubmenu()) {\n      this._menuItemInstance._highlighted = isOpen;\n    }\n  }\n/**\n * This method checks that a valid instance of MdMenu has been passed into\n * mdMenuTriggerFor. If not, an exception is thrown.\n * @return {?}\n */\nprivate _checkMenu() {\n    if (!this.menu) {\n      throwMdMenuMissingError();\n    }\n  }\n/**\n * This method creates the overlay from the provided menu's template and saves its\n * OverlayRef so that it can be attached to the DOM when openMenu is called.\n * @return {?}\n */\nprivate _createOverlay(): OverlayRef {\n    if (!this._overlayRef) {\n      this._portal = new TemplatePortal(this.menu.templateRef, this._viewContainerRef);\n      const /** @type {?} */ config = this._getOverlayConfig();\n      this._subscribeToPositions( /** @type {?} */((config.positionStrategy as ConnectedPositionStrategy)));\n      this._overlayRef = this._overlay.create(config);\n    }\n\n    return this._overlayRef;\n  }\n/**\n * This method builds the configuration object needed to create the overlay, the OverlayState.\n * @return {?} OverlayConfig\n */\nprivate _getOverlayConfig(): OverlayConfig {\n    return new OverlayConfig({\n      positionStrategy: this._getPosition(),\n      hasBackdrop: !this.triggersSubmenu(),\n      backdropClass: 'cdk-overlay-transparent-backdrop',\n      direction: this.dir,\n      scrollStrategy: this._scrollStrategy()\n    });\n  }\n/**\n * Listens to changes in the position of the overlay and sets the correct classes\n * on the menu based on the new position. This ensures the animation origin is always\n * correct, even if a fallback position is used for the overlay.\n * @param {?} position\n * @return {?}\n */\nprivate _subscribeToPositions(position: ConnectedPositionStrategy): void {\n    this._positionSubscription = position.onPositionChange.subscribe(change => {\n      const /** @type {?} */ posX: MenuPositionX = change.connectionPair.overlayX === 'start' ? 'after' : 'before';\n      const /** @type {?} */ posY: MenuPositionY = change.connectionPair.overlayY === 'top' ? 'below' : 'above';\n\n      this.menu.setPositionClasses(posX, posY);\n    });\n  }\n/**\n * This method builds the position strategy for the overlay, so the menu is properly connected\n * to the trigger.\n * @return {?} ConnectedPositionStrategy\n */\nprivate _getPosition(): ConnectedPositionStrategy {\n    let [originX, originFallbackX]: HorizontalConnectionPos[] =\n        this.menu.xPosition === 'before' ? ['end', 'start'] : ['start', 'end'];\n\n    let [overlayY, overlayFallbackY]: VerticalConnectionPos[] =\n        this.menu.yPosition === 'above' ? ['bottom', 'top'] : ['top', 'bottom'];\n\n    let [originY, originFallbackY] = [overlayY, overlayFallbackY];\n    let [overlayX, overlayFallbackX] = [originX, originFallbackX];\n    let /** @type {?} */ offsetY = 0;\n\n    if (this.triggersSubmenu()) {\n      // When the menu is a sub-menu, it should always align itself\n      // to the edges of the trigger, instead of overlapping it.\n      overlayFallbackX = originX = this.menu.xPosition === 'before' ? 'start' : 'end';\n      originFallbackX = overlayX = originX === 'end' ? 'start' : 'end';\n\n      // TODO(crisbeto): this should be a function, once the overlay supports it.\n      // Right now it will be wrong for the fallback positions.\n      offsetY = overlayY === 'bottom' ? MENU_PANEL_TOP_PADDING : -MENU_PANEL_TOP_PADDING;\n    } else if (!this.menu.overlapTrigger) {\n      originY = overlayY === 'top' ? 'bottom' : 'top';\n      originFallbackY = overlayFallbackY === 'top' ? 'bottom' : 'top';\n    }\n\n    return this._overlay.position()\n        .connectedTo(this._element, {originX, originY}, {overlayX, overlayY})\n        .withDirection(this.dir)\n        .withOffsetY(offsetY)\n        .withFallbackPosition(\n            {originX: originFallbackX, originY},\n            {overlayX: overlayFallbackX, overlayY})\n        .withFallbackPosition(\n            {originX, originY: originFallbackY},\n            {overlayX, overlayY: overlayFallbackY})\n        .withFallbackPosition(\n            {originX: originFallbackX, originY: originFallbackY},\n            {overlayX: overlayFallbackX, overlayY: overlayFallbackY});\n  }\n/**\n * Cleans up the active subscriptions.\n * @return {?}\n */\nprivate _cleanUpSubscriptions(): void {\n    this._closeSubscription.unsubscribe();\n    this._positionSubscription.unsubscribe();\n    this._hoverSubscription.unsubscribe();\n  }\n/**\n * Returns a stream that emits whenever an action that should close the menu occurs.\n * @return {?}\n */\nprivate _menuClosingActions() {\n    const /** @type {?} */ backdrop = /** @type {?} */(( this._overlayRef)).backdropClick();\n    const /** @type {?} */ parentClose = this._parentMenu ? this._parentMenu.close : observableOf(null);\n    const /** @type {?} */ hover = this._parentMenu ? RxChain.from(this._parentMenu.hover())\n        .call(filter, active => active !== this._menuItemInstance)\n        .call(filter, () => this._menuOpen)\n        .result() : observableOf(null);\n\n    return merge(backdrop, parentClose, hover);\n  }\n/**\n * Handles mouse presses on the trigger.\n * @param {?} event\n * @return {?}\n */\n_handleMousedown(event: MouseEvent): void {\n    if (!isFakeMousedownFromScreenReader(event)) {\n      this._openedByMouse = true;\n\n      // Since clicking on the trigger won't close the menu if it opens a sub-menu,\n      // we should prevent focus from moving onto it via click to avoid the\n      // highlight from lingering on the menu item.\n      if (this.triggersSubmenu()) {\n        event.preventDefault();\n      }\n    }\n  }\n/**\n * Handles key presses on the trigger.\n * @param {?} event\n * @return {?}\n */\n_handleKeydown(event: KeyboardEvent): void {\n    const /** @type {?} */ keyCode = event.keyCode;\n\n    if (this.triggersSubmenu() && (\n            (keyCode === RIGHT_ARROW && this.dir === 'ltr') ||\n            (keyCode === LEFT_ARROW && this.dir === 'rtl'))) {\n      this.openMenu();\n    }\n  }\n/**\n * Handles click events on the trigger.\n * @param {?} event\n * @return {?}\n */\n_handleClick(event: MouseEvent): void {\n    if (this.triggersSubmenu()) {\n      // Stop event propagation to avoid closing the parent menu.\n      event.stopPropagation();\n      this.openMenu();\n    } else {\n      this.toggleMenu();\n    }\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: `[md-menu-trigger-for], [mat-menu-trigger-for],\n             [mdMenuTriggerFor], [matMenuTriggerFor]`,\n  host: {\n    'aria-haspopup': 'true',\n    '(mousedown)': '_handleMousedown($event)',\n    '(keydown)': '_handleKeydown($event)',\n    '(click)': '_handleClick($event)',\n  },\n  exportAs: 'mdMenuTrigger, matMenuTrigger'\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Overlay, },\n{type: ElementRef, },\n{type: ViewContainerRef, },\n{type: undefined, decorators: [{ type: Inject, args: [MD_MENU_SCROLL_STRATEGY, ] }, ]},\n{type: MdMenu, decorators: [{ type: Optional }, ]},\n{type: MdMenuItem, decorators: [{ type: Optional }, { type: Self }, ]},\n{type: Directionality, decorators: [{ type: Optional }, ]},\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'_deprecatedMdMenuTriggerFor': [{ type: Input, args: ['md-menu-trigger-for', ] },],\n'_deprecatedMatMenuTriggerFor': [{ type: Input, args: ['mat-menu-trigger-for', ] },],\n'_matMenuTriggerFor': [{ type: Input, args: ['matMenuTriggerFor', ] },],\n'menu': [{ type: Input, args: ['mdMenuTriggerFor', ] },],\n'onMenuOpen': [{ type: Output },],\n'onMenuClose': [{ type: Output },],\n};\n}\n\nfunction MdMenuTrigger_tsickle_Closure_declarations() {\n/** @type {?} */\nMdMenuTrigger.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nMdMenuTrigger.ctorParameters;\n/** @type {?} */\nMdMenuTrigger.propDecorators;\n/** @type {?} */\nMdMenuTrigger.prototype._portal;\n/** @type {?} */\nMdMenuTrigger.prototype._overlayRef;\n/** @type {?} */\nMdMenuTrigger.prototype._menuOpen;\n/** @type {?} */\nMdMenuTrigger.prototype._closeSubscription;\n/** @type {?} */\nMdMenuTrigger.prototype._positionSubscription;\n/** @type {?} */\nMdMenuTrigger.prototype._hoverSubscription;\n/** @type {?} */\nMdMenuTrigger.prototype._openedByMouse;\n/**\n * References the menu instance that the trigger is associated with.\n * @type {?}\n */\nMdMenuTrigger.prototype.menu;\n/**\n * Event emitted when the associated menu is opened.\n * @type {?}\n */\nMdMenuTrigger.prototype.onMenuOpen;\n/**\n * Event emitted when the associated menu is closed.\n * @type {?}\n */\nMdMenuTrigger.prototype.onMenuClose;\n/** @type {?} */\nMdMenuTrigger.prototype._overlay;\n/** @type {?} */\nMdMenuTrigger.prototype._element;\n/** @type {?} */\nMdMenuTrigger.prototype._viewContainerRef;\n/** @type {?} */\nMdMenuTrigger.prototype._scrollStrategy;\n/** @type {?} */\nMdMenuTrigger.prototype._parentMenu;\n/** @type {?} */\nMdMenuTrigger.prototype._menuItemInstance;\n/** @type {?} */\nMdMenuTrigger.prototype._dir;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {\n  AfterContentInit,\n  Component,\n  ContentChildren,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  Output,\n  QueryList,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation,\n  ElementRef,\n  ChangeDetectionStrategy,\n  InjectionToken,\n  Inject,\n} from '@angular/core';\nimport {AnimationEvent} from '@angular/animations';\nimport {MenuPositionX, MenuPositionY} from './menu-positions';\nimport {throwMdMenuInvalidPositionX, throwMdMenuInvalidPositionY} from './menu-errors';\nimport {MdMenuItem} from './menu-item';\nimport {FocusKeyManager} from '@angular/cdk/a11y';\nimport {MdMenuPanel} from './menu-panel';\nimport {Subscription} from 'rxjs/Subscription';\nimport {transformMenu, fadeInItems} from './menu-animations';\nimport {ESCAPE, LEFT_ARROW, RIGHT_ARROW} from '@angular/material/core';\nimport {merge} from 'rxjs/observable/merge';\nimport {Observable} from 'rxjs/Observable';\nimport {Direction} from '@angular/cdk/bidi';\nimport {RxChain, startWith, switchMap} from '@angular/cdk/rxjs';\n\n/** Default `md-menu` options that can be overridden. */\nexport interface MdMenuDefaultOptions {\n  xPosition: MenuPositionX;\n  yPosition: MenuPositionY;\n  overlapTrigger: boolean;\n}\n/**\n * Injection token to be used to override the default options for `md-menu`.\n */\nexport const MD_MENU_DEFAULT_OPTIONS =\n    new InjectionToken<MdMenuDefaultOptions>('md-menu-default-options');\n/**\n * Start elevation for the menu panel.\n * \\@docs-private\n */\nconst MD_MENU_BASE_ELEVATION = 2;\nexport class MdMenu implements AfterContentInit, MdMenuPanel, OnDestroy {\nprivate _keyManager: FocusKeyManager<MdMenuItem>;\nprivate _xPosition: MenuPositionX = this._defaultOptions.xPosition;\nprivate _yPosition: MenuPositionY = this._defaultOptions.yPosition;\nprivate _previousElevation: string;\n/**\n * Subscription to tab events on the menu panel\n */\nprivate _tabSubscription = Subscription.EMPTY;\n/**\n * Config object to be passed into the menu's ngClass\n */\n_classList: any = {};\n/**\n * Current state of the panel animation.\n */\n_panelAnimationState: 'void' | 'enter-start' | 'enter' = 'void';\n/**\n * Parent menu of the current menu panel.\n */\nparentMenu: MdMenuPanel | undefined;\n/**\n * Layout direction of the menu.\n */\ndirection: Direction;\n/**\n * Position of the menu in the X axis.\n * @return {?}\n */\nget xPosition() { return this._xPosition; }\n/**\n * @param {?} value\n * @return {?}\n */\nset xPosition(value: MenuPositionX) {\n    if (value !== 'before' && value !== 'after') {\n      throwMdMenuInvalidPositionX();\n    }\n    this._xPosition = value;\n    this.setPositionClasses();\n  }\n/**\n * Position of the menu in the Y axis.\n * @return {?}\n */\nget yPosition() { return this._yPosition; }\n/**\n * @param {?} value\n * @return {?}\n */\nset yPosition(value: MenuPositionY) {\n    if (value !== 'above' && value !== 'below') {\n      throwMdMenuInvalidPositionY();\n    }\n    this._yPosition = value;\n    this.setPositionClasses();\n  }\n\n   templateRef: TemplateRef<any>;\n/**\n * List of the items inside of a menu.\n */\nitems: QueryList<MdMenuItem>;\n/**\n * Whether the menu should overlap its trigger.\n */\noverlapTrigger = this._defaultOptions.overlapTrigger;\n/**\n * This method takes classes set on the host md-menu element and applies them on the\n * menu template that displays in the overlay container.  Otherwise, it's difficult\n * to style the containing menu from outside the component.\n * @param {?} classes list of class names\n * @return {?}\n */\nset classList(classes: string) {\n    if (classes && classes.length) {\n      this._classList = classes.split(' ').reduce((obj: any, className: string) => {\n        obj[className] = true;\n        return obj;\n      }, {});\n\n      this._elementRef.nativeElement.className = '';\n      this.setPositionClasses();\n    }\n  }\n/**\n * Event emitted when the menu is closed.\n */\nclose = new EventEmitter<void | 'click' | 'keydown'>();\n/**\n * @param {?} _elementRef\n * @param {?} _defaultOptions\n */\nconstructor(\nprivate _elementRef: ElementRef,\nprivate _defaultOptions: MdMenuDefaultOptions) { }\n/**\n * @return {?}\n */\nngAfterContentInit() {\n    this._keyManager = new FocusKeyManager<MdMenuItem>(this.items).withWrap();\n    this._tabSubscription = this._keyManager.tabOut.subscribe(() => this.close.emit('keydown'));\n  }\n/**\n * @return {?}\n */\nngOnDestroy() {\n    this._tabSubscription.unsubscribe();\n    this.close.emit();\n    this.close.complete();\n  }\n/**\n * Stream that emits whenever the hovered menu item changes.\n * @return {?}\n */\nhover(): Observable<MdMenuItem> {\n    return RxChain.from(this.items.changes)\n      .call(startWith, this.items)\n      .call(switchMap, (items: MdMenuItem[]) => merge(...items.map(item => item.hover)))\n      .result();\n  }\n/**\n * Handle a keyboard event from the menu, delegating to the appropriate action.\n * @param {?} event\n * @return {?}\n */\n_handleKeydown(event: KeyboardEvent) {\n    switch (event.keyCode) {\n      case ESCAPE:\n        this.close.emit('keydown');\n        event.stopPropagation();\n      break;\n      case LEFT_ARROW:\n        if (this.parentMenu && this.direction === 'ltr') {\n          this.close.emit('keydown');\n        }\n      break;\n      case RIGHT_ARROW:\n        if (this.parentMenu && this.direction === 'rtl') {\n          this.close.emit('keydown');\n        }\n      break;\n      default:\n        this._keyManager.onKeydown(event);\n    }\n  }\n/**\n * Focus the first item in the menu. This method is used by the menu trigger\n * to focus the first item when the menu is opened by the ENTER key.\n * @return {?}\n */\nfocusFirstItem() {\n    this._keyManager.setFirstItemActive();\n  }\n/**\n * It's necessary to set position-based classes to ensure the menu panel animation\n * folds out from the correct direction.\n * @param {?=} posX\n * @param {?=} posY\n * @return {?}\n */\nsetPositionClasses(posX = this.xPosition, posY = this.yPosition): void {\n    this._classList['mat-menu-before'] = posX === 'before';\n    this._classList['mat-menu-after'] = posX === 'after';\n    this._classList['mat-menu-above'] = posY === 'above';\n    this._classList['mat-menu-below'] = posY === 'below';\n  }\n/**\n * Sets the menu panel elevation.\n * @param {?} depth Number of parent menus that come before the menu.\n * @return {?}\n */\nsetElevation(depth: number): void {\n    // The elevation starts at the base and increases by one for each level.\n    const /** @type {?} */ newElevation = `mat-elevation-z${MD_MENU_BASE_ELEVATION + depth}`;\n    const /** @type {?} */ customElevation = Object.keys(this._classList).find(c => c.startsWith('mat-elevation-z'));\n\n    if (!customElevation || customElevation === this._previousElevation) {\n      if (this._previousElevation) {\n        this._classList[this._previousElevation] = false;\n      }\n\n      this._classList[newElevation] = true;\n      this._previousElevation = newElevation;\n    }\n  }\n/**\n * Starts the enter animation.\n * @return {?}\n */\n_startAnimation() {\n    this._panelAnimationState = 'enter-start';\n  }\n/**\n * Resets the panel animation to its initial state.\n * @return {?}\n */\n_resetAnimation() {\n    this._panelAnimationState = 'void';\n  }\n/**\n * Callback that is invoked when the panel animation completes.\n * @param {?} event\n * @return {?}\n */\n_onAnimationDone(event: AnimationEvent) {\n    // After the initial expansion is done, trigger the second phase of the enter animation.\n    if (event.toState === 'enter-start') {\n      this._panelAnimationState = 'enter';\n    }\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  moduleId: module.id,\n  selector: 'md-menu, mat-menu',\n  templateUrl: 'menu.html',\n  styleUrls: ['menu.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  animations: [\n    transformMenu,\n    fadeInItems\n  ],\n  exportAs: 'mdMenu, matMenu'\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: undefined, decorators: [{ type: Inject, args: [MD_MENU_DEFAULT_OPTIONS, ] }, ]},\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'xPosition': [{ type: Input },],\n'yPosition': [{ type: Input },],\n'templateRef': [{ type: ViewChild, args: [TemplateRef, ] },],\n'items': [{ type: ContentChildren, args: [MdMenuItem, ] },],\n'overlapTrigger': [{ type: Input },],\n'classList': [{ type: Input, args: ['class', ] },],\n'close': [{ type: Output },],\n};\n}\n\nfunction MdMenu_tsickle_Closure_declarations() {\n/** @type {?} */\nMdMenu.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nMdMenu.ctorParameters;\n/** @type {?} */\nMdMenu.propDecorators;\n/** @type {?} */\nMdMenu.prototype._keyManager;\n/** @type {?} */\nMdMenu.prototype._xPosition;\n/** @type {?} */\nMdMenu.prototype._yPosition;\n/** @type {?} */\nMdMenu.prototype._previousElevation;\n/**\n * Subscription to tab events on the menu panel\n * @type {?}\n */\nMdMenu.prototype._tabSubscription;\n/**\n * Config object to be passed into the menu's ngClass\n * @type {?}\n */\nMdMenu.prototype._classList;\n/**\n * Current state of the panel animation.\n * @type {?}\n */\nMdMenu.prototype._panelAnimationState;\n/**\n * Parent menu of the current menu panel.\n * @type {?}\n */\nMdMenu.prototype.parentMenu;\n/**\n * Layout direction of the menu.\n * @type {?}\n */\nMdMenu.prototype.direction;\n/** @type {?} */\nMdMenu.prototype.templateRef;\n/**\n * List of the items inside of a menu.\n * @type {?}\n */\nMdMenu.prototype.items;\n/**\n * Whether the menu should overlap its trigger.\n * @type {?}\n */\nMdMenu.prototype.overlapTrigger;\n/**\n * Event emitted when the menu is closed.\n * @type {?}\n */\nMdMenu.prototype.close;\n/** @type {?} */\nMdMenu.prototype._elementRef;\n/** @type {?} */\nMdMenu.prototype._defaultOptions;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport{\n  trigger,\n  state,\n  style,\n  animate,\n  transition,\n  AnimationTriggerMetadata,\n} from '@angular/animations';\n\n/**\n * Below are all the animations for the md-menu component.\n * Animation duration and timing values are based on:\n * https://material.io/guidelines/components/menus.html#menus-usage\n */\n\n\n/**\n * This animation controls the menu panel's entry and exit from the page.\n *\n * When the menu panel is added to the DOM, it scales in and fades in its border.\n *\n * When the menu panel is removed from the DOM, it simply fades out after a brief\n * delay to display the ripple.\n */\n\n// TODO(kara): switch to :enter and :leave once Mobile Safari is sorted out.\nexport const /** @type {?} */ transformMenu: AnimationTriggerMetadata = trigger('transformMenu', [\n  state('void', style({\n    opacity: 0,\n    // This starts off from 0.01, instead of 0, because there's an issue in the Angular animations\n    // as of 4.2, which causes the animation to be skipped if it starts from 0.\n    transform: 'scale(0.01, 0.01)'\n  })),\n  state('enter-start', style({\n    opacity: 1,\n    transform: 'scale(1, 0.5)'\n  })),\n  state('enter', style({\n    transform: 'scale(1, 1)'\n  })),\n  transition('void => enter-start', animate('100ms linear')),\n  transition('enter-start => enter', animate('300ms cubic-bezier(0.25, 0.8, 0.25, 1)')),\n  transition('* => void', animate('150ms 50ms linear', style({opacity: 0})))\n]);\n/**\n * This animation fades in the background color and content of the menu panel\n * after its containing element is scaled in.\n */\nexport const fadeInItems: AnimationTriggerMetadata = trigger('fadeInItems', [\n  state('showing', style({opacity: 1})),\n  transition('void => *', [\n    style({opacity: 0}),\n    animate('400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)')\n  ])\n]);\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {FocusableOption} from '@angular/cdk/a11y';\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  OnDestroy,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {CanDisable, MATERIAL_COMPATIBILITY_MODE, mixinDisabled} from '@angular/material/core';\nimport {Subject} from 'rxjs/Subject';\n/**\n * \\@docs-private\n */\nexport class MdMenuItemBase {}\nexport const /** @type {?} */ _MdMenuItemMixinBase = mixinDisabled(MdMenuItemBase);\n/**\n * This directive is intended to be used inside an md-menu tag.\n * It exists mostly to set the role attribute.\n */\nexport class MdMenuItem extends _MdMenuItemMixinBase implements FocusableOption, CanDisable,\n  OnDestroy {\n/**\n * Stream that emits when the menu item is hovered.\n */\nhover: Subject<MdMenuItem> = new Subject();\n/**\n * Whether the menu item is highlighted.\n */\n_highlighted: boolean = false;\n/**\n * Whether the menu item acts as a trigger for a sub-menu.\n */\n_triggersSubmenu: boolean = false;\n/**\n * @param {?} _elementRef\n */\nconstructor(private _elementRef: ElementRef) {\n    super();\n  }\n/**\n * Focuses the menu item.\n * @return {?}\n */\nfocus(): void {\n    this._getHostElement().focus();\n  }\n/**\n * @return {?}\n */\nngOnDestroy() {\n    this.hover.complete();\n  }\n/**\n * Used to set the `tabindex`.\n * @return {?}\n */\n_getTabIndex(): string {\n    return this.disabled ? '-1' : '0';\n  }\n/**\n * Returns the host DOM element.\n * @return {?}\n */\n_getHostElement(): HTMLElement {\n    return this._elementRef.nativeElement;\n  }\n/**\n * Prevents the default element actions if it is disabled.\n * @param {?} event\n * @return {?}\n */\n_checkDisabled(event: Event): void {\n    if (this.disabled) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }\n/**\n * Emits to the hover stream.\n * @return {?}\n */\n_emitHoverEvent() {\n    if (!this.disabled) {\n      this.hover.next(this);\n    }\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  moduleId: module.id,\n  selector: '[md-menu-item], [mat-menu-item]',\n  inputs: ['disabled'],\n  host: {\n    'role': 'menuitem',\n    'class': 'mat-menu-item',\n    '[class.mat-menu-item-highlighted]': '_highlighted',\n    '[class.mat-menu-item-submenu-trigger]': '_triggersSubmenu',\n    '[attr.tabindex]': '_getTabIndex()',\n    '[attr.aria-disabled]': 'disabled.toString()',\n    '[attr.disabled]': 'disabled || null',\n    '(click)': '_checkDisabled($event)',\n    '(mouseenter)': '_emitHoverEvent()',\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  templateUrl: 'menu-item.html',\n  exportAs: 'mdMenuItem, matMenuItem',\n  viewProviders: [{provide: MATERIAL_COMPATIBILITY_MODE, useValue: true}],\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n];\n}\n\nfunction MdMenuItem_tsickle_Closure_declarations() {\n/** @type {?} */\nMdMenuItem.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nMdMenuItem.ctorParameters;\n/**\n * Stream that emits when the menu item is hovered.\n * @type {?}\n */\nMdMenuItem.prototype.hover;\n/**\n * Whether the menu item is highlighted.\n * @type {?}\n */\nMdMenuItem.prototype._highlighted;\n/**\n * Whether the menu item acts as a trigger for a sub-menu.\n * @type {?}\n */\nMdMenuItem.prototype._triggersSubmenu;\n/** @type {?} */\nMdMenuItem.prototype._elementRef;\n}\n\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","\n/**\n * Throws an exception for the case when menu trigger doesn't have a valid md-menu instance\n * \\@docs-private\n * @return {?}\n */\nexport function throwMdMenuMissingError() {\n  throw Error(`md-menu-trigger: must pass in an md-menu instance.\n\n    Example:\n      <md-menu #menu=\"mdMenu\"></md-menu>\n      <button [mdMenuTriggerFor]=\"menu\"></button>`);\n}\n/**\n * Throws an exception for the case when menu's x-position value isn't valid.\n * In other words, it doesn't match 'before' or 'after'.\n * \\@docs-private\n * @return {?}\n */\nexport function throwMdMenuInvalidPositionX() {\n  throw Error(`x-position value must be either 'before' or after'.\n      Example: <md-menu x-position=\"before\" #menu=\"mdMenu\"></md-menu>`);\n}\n/**\n * Throws an exception for the case when menu's y-position value isn't valid.\n * In other words, it doesn't match 'above' or 'below'.\n * \\@docs-private\n * @return {?}\n */\nexport function throwMdMenuInvalidPositionY() {\n  throw Error(`y-position value must be either 'above' or below'.\n      Example: <md-menu y-position=\"above\" #menu=\"mdMenu\"></md-menu>`);\n}\n"],"names":["LEFT_ARROW","RIGHT_ARROW","observableOf"],"mappings":"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"}