/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/cdk/platform"),require("rxjs/Subject"),require("rxjs/Subscription"),require("rxjs/observable/fromEvent"),require("rxjs/observable/merge"),require("rxjs/operator/auditTime")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/cdk/platform","rxjs/Subject","rxjs/Subscription","rxjs/observable/fromEvent","rxjs/observable/merge","rxjs/operator/auditTime"],t):t((e.ng=e.ng||{},e.ng.cdk=e.ng.cdk||{},e.ng.cdk.scrolling=e.ng.cdk.scrolling||{}),e.ng.core,e.ng.cdk.platform,e.Rx,e.Rx,e.Rx.Observable,e.Rx.Observable,e.Rx.Observable.prototype)}(this,function(e,t,r,o,n,i,l,s){"use strict";function c(e,t,r){return e||new a(t,r)}function u(e,t){return e||new f(t)}var a=function(){function e(e,t){this._ngZone=e,this._platform=t,this._scrolled=new o.Subject,this._globalSubscription=null,this._scrolledCount=0,this.scrollableReferences=new Map}return e.prototype.register=function(e){var t=this,r=e.elementScrolled().subscribe(function(){return t._notify()});this.scrollableReferences.set(e,r)},e.prototype.deregister=function(e){var t=this.scrollableReferences.get(e);t&&(t.unsubscribe(),this.scrollableReferences.delete(e))},e.prototype.scrolled=function(e,t){var r=this;if(void 0===e&&(e=20),!this._platform.isBrowser)return n.Subscription.EMPTY;var o=e>0?s.auditTime.call(this._scrolled.asObservable(),e):this._scrolled.asObservable();this._scrolledCount++,this._globalSubscription||(this._globalSubscription=this._ngZone.runOutsideAngular(function(){return l.merge(i.fromEvent(window.document,"scroll"),i.fromEvent(window,"resize")).subscribe(function(){return r._notify()})}));var c=o.subscribe(t);return c.add(function(){r._scrolledCount--,!r._globalSubscription||r.scrollableReferences.size||r._scrolledCount||(r._globalSubscription.unsubscribe(),r._globalSubscription=null)}),c},e.prototype.getScrollContainers=function(e){var t=this,r=[];return this.scrollableReferences.forEach(function(o,n){t.scrollableContainsElement(n,e)&&r.push(n)}),r},e.prototype.scrollableContainsElement=function(e,t){var r=t.nativeElement,o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1},e.prototype._notify=function(){this._scrolled.next()},e}();a.decorators=[{type:t.Injectable}],a.ctorParameters=function(){return[{type:t.NgZone},{type:r.Platform}]};var p={provide:a,deps:[[new t.Optional,new t.SkipSelf,a],t.NgZone,r.Platform],useFactory:c},d=function(){function e(e,t,r,n){this._elementRef=e,this._scroll=t,this._ngZone=r,this._renderer=n,this._elementScrolled=new o.Subject}return e.prototype.ngOnInit=function(){var e=this;this._scrollListener=this._ngZone.runOutsideAngular(function(){return e._renderer.listen(e.getElementRef().nativeElement,"scroll",function(t){e._elementScrolled.next(t)})}),this._scroll.register(this)},e.prototype.ngOnDestroy=function(){this._scroll.deregister(this),this._scrollListener&&(this._scrollListener(),this._scrollListener=null)},e.prototype.elementScrolled=function(){return this._elementScrolled.asObservable()},e.prototype.getElementRef=function(){return this._elementRef},e}();d.decorators=[{type:t.Directive,args:[{selector:"[cdk-scrollable], [cdkScrollable]"}]}],d.ctorParameters=function(){return[{type:t.ElementRef},{type:a},{type:t.NgZone},{type:t.Renderer2}]};var f=function(){function e(e){var t=this;e.scrolled(0,function(){return t._cacheViewportGeometry()})}return e.prototype.getViewportRect=function(e){void 0===e&&(e=this._documentRect),e||(this._cacheViewportGeometry(),e=this._documentRect);var t=this.getViewportScrollPosition(e),r=window.innerHeight,o=window.innerWidth;return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+o,height:r,width:o}},e.prototype.getViewportScrollPosition=function(e){return void 0===e&&(e=this._documentRect),e||(this._cacheViewportGeometry(),e=this._documentRect),{top:-e.top||document.body.scrollTop||window.scrollY||document.documentElement.scrollTop||0,left:-e.left||document.body.scrollLeft||window.scrollX||document.documentElement.scrollLeft||0}},e.prototype._cacheViewportGeometry=function(){this._documentRect=document.documentElement.getBoundingClientRect()},e}();f.decorators=[{type:t.Injectable}],f.ctorParameters=function(){return[{type:a}]};var b={provide:f,deps:[[new t.Optional,new t.SkipSelf,f],a],useFactory:u},m=function(){function e(){}return e}();m.decorators=[{type:t.NgModule,args:[{imports:[r.PlatformModule],exports:[d],declarations:[d],providers:[p]}]}],m.ctorParameters=function(){return[]},e.ScrollDispatchModule=m,e.DEFAULT_SCROLL_TIME=20,e.ScrollDispatcher=a,e.SCROLL_DISPATCHER_PROVIDER_FACTORY=c,e.SCROLL_DISPATCHER_PROVIDER=p,e.Scrollable=d,e.ViewportRuler=f,e.VIEWPORT_RULER_PROVIDER_FACTORY=u,e.VIEWPORT_RULER_PROVIDER=b,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=cdk-scrolling.umd.min.js.map
